{% load static %}
<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Share And Play</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
		<link href="{% static 'html5up/css/main.css' %}" rel="stylesheet" type="text/css" />
		
	</head>
	<body  id="catalogue">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="#">Share And Play</a></h1>
						<nav class="links">
							<ul>
								<li><a href="#">Catalogue</a></li>
								<li><a href="#">Mes jeux</a></li>
								<li><a href="#">Emprunts</a></li>
								<li><a href="profil/{{user.id}}" role="tab">Mon profil</a></li>
								<li>
									    {% if user.is_authenticated %}
											<a  href="../deconnexion" data-toggle="modal">Deconnexion</a>
											{% else %}
											<a  href="../connexion">Connexion</a>
											{% endif %}
								</li>
							</ul>
						</nav>
						<nav class="main">
							<ul>
								<!--
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>-->
								<li class="menu">
									<a class="fa-search" href="#menu">Menu</a>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Menu -->
					<section id="menu">
						<section>
							 <!-- controls panel -->
                    <div class="jplist-panel">
                        <!-- filter by genres-->
										  	<div class="select-wrapper">
													<select 
														 class="jplist-select" 
														 data-control-type="filter-select" 
														 data-control-name="category-filter" 
														 data-control-action="filter">

															 <option data-path="default">- Filtrer par genre -</option>
															 {% for genre in genres %}
																	 <option data-path=".{{genre.nomDuGenre}}">{{genre.nomDuGenre}}</option>
															 {% endfor %}																		
													</select>		
											  </div>
											  </br>
												<!-- filter by types-->
												<div class="select-wrapper">
													<select 
														 class="jplist-select" 
														 data-control-type="filter-select" 
														 data-control-name="category-filter" 
														 data-control-action="filter">

															 <option data-path="default">- Filtrer par type -</option>
															 {% for type in types %}
																	 <option data-path=".{{type.nomDuType}}">{{type.nomDuType}}</option>
															 {% endfor %}																		
													</select>
												</div>
												</br>
                        <!-- filter by public-->
												<div class="select-wrapper">
													<select 
														 class="jplist-select" 
														 data-control-type="filter-select" 
														 data-control-name="category-filter" 
														 data-control-action="filter">

															 <option data-path="default">- Filtrer par public -</option>
															 {% for type in types %}
																	 <option data-path=".{{type.nomDuType}}">{{type.nomDuType}}</option>
															 {% endfor %}																		
													</select>
												</div>
                        </br>
                        <!-- filter by title-->
                        <div class="text-filter-box">
                           <i class="fa fa-search  jplist-icon"></i>
                           <input
                              data-path=".title"
                              type="text"
                              value=""
                              placeholder="- Filtrer par titre -"
                              data-control-type="textbox"
                              data-control-name="title-filter"
                              data-control-action="filter"
                           />
                        </div></br>
                        <!-- filter by duree-->
                        <div
                             class="jplist-range-slider"
                             data-control-type="range-slider"
                             data-control-name="duree"
                             data-control-action="filter"
                             data-path=".duree"
                             data-slider-func="dureeSlider"
                             data-setvalues-func="dureeValues">

                             <div class="value" data-type="prev-value"></div>
                             <div class="ui-slider" data-type="ui-slider"></div>
                             <div class="value" data-type="next-value"></div>
                        </div></br>
                        <!-- filter by joueur min--> joueur min
                        <div
                             class="jplist-range-slider"
                             data-control-type="range-slider"
                             data-control-name="joueur-min"
                             data-control-action="filter"
                             data-path=".joueurMin"
                             data-slider-func="joueurMinSlider"
                             data-setvalues-func="joueurMinValues">

                             <div class="value" data-type="prev-value"></div>
                             <div class="ui-slider" data-type="ui-slider"></div>
                             <div class="value" data-type="next-value"></div>
                        </div></br>
                        <!-- filter by joueur max-->joueur max
                        <div
                             class="jplist-range-slider"
                             data-control-type="range-slider"
                             data-control-name="joueur-max"
                             data-control-action="filter"
                             data-path=".joueurMax"
                             data-slider-func="joueurMaxSlider"
                             data-setvalues-func="joueurMaxValues">

                             <div class="value" data-type="prev-value"></div>
                             <div class="ui-slider" data-type="ui-slider"></div>
                             <div class="value" data-type="next-value"></div>
                        </div></br>
                        <!-- filter by age minimum-->age min
                        <div
                             class="jplist-range-slider"
                             data-control-type="range-slider"
                             data-control-name="age-min"
                             data-control-action="filter"
                             data-path=".ageMin"
                             data-slider-func="ageMinSlider"
                             data-setvalues-func="ageMinValues">

                             <div class="value" data-type="prev-value"></div>
                             <div class="ui-slider" data-type="ui-slider"></div>
                             <div class="value" data-type="next-value"></div>
                        </div></br>
                        <!-- filter by proprietaire-->
                        {% if not edition%}
                            <div class="text-filter-box">
                               <i class="fa fa-search  jplist-icon"></i>
                               <input
                                  data-path=".proprietaire"
                                  type="text"
                                  value=""
                                  placeholder="- Filtrer par propriÃ©taire -"
                                  data-control-type="textbox"
                                  data-control-name="proprietaire-filter"
                                  data-control-action="filter"
                               />
                            </div></br>
                        {% endif %}
                        <button
                            type="button"
                            class="jplist-reset-btn"
                            data-control-type="reset"
                            data-control-name="reset"
                            data-control-action="reset">
                            Reset  <i class="fa fa-share"></i>
                        </button>

                   </div>
						</section>
					</section>

				<!-- Main -->
					<div id="main">
						
						    <!-- HTML data -->
                   <section class="list mini-posts">
                       {% for jeu in jeux %}
                        <article class="list-item mini-post">
													<header>
														 <a class="title"  href="ouvrirOnglet/{{ jeu.id }}">{{ jeu.nomDuJeu }}</a></br>
														 {% if edition %}
																 <a class="btn btn-large btn-primary launch-modal" data-url="editer/{{ jeu.id }}">
																	 <i class="fa fa-pencil" aria-hidden="true"></i>
																 </a>
																 <a class="btn btn-large btn-primary" href="cacher/{{ jeu.id }}">
																			{% if jeu.visible %}
																					<i class="fa fa-eye-slash" aria-hidden="true"></i>
																			{% else %}
																					<i class="fa fa-eye" aria-hidden="true"></i>
																			{% endif %}
																 </a>
																 <a class="btn btn-large btn-primary launch-modal" data-url="emprunter/{{ jeu.id }}">
																			<i class="fa fa-lock" aria-hidden="true"></i>
																 </a>
																 <a class="btn btn-large btn-danger launch-modal" data-url="comfirmer/{{ jeu.id }}">
																	 <i class="fa fa-times" aria-hidden="true"></i>
																 </a>
																	</br>
														 {% endif %}
														 {% if jeu.image|length > 0 %}
																	<a href="ouvrirOnglet/{{ jeu.id }}"><img src="{{ MEDIA_URL }}{{jeu.image}}"  width="150px" class="img-rounded"  ></a>
														 {% else %}
																	<a href="ouvrirOnglet/{{ jeu.id }}"><img src="{% static "picture.png" %}"  width="150px" class="img-rounded"></a>
														 {% endif %}
										 			 </header>
                            </br></br>
                           <p class="duree">{{jeu.duree}} minutes</p>
                           {%for genre in jeu.genre.all %}
                                <p class="{{genre.nomDuGenre}}">{{genre.nomDuGenre}}</p>
                           {%endfor%}
                           {%for type in jeu.typeDeJeu.all %}
                                <p class="{{type.nomDuType}}">{{type.nomDuType}}</p>
                           {%endfor%}
                           {%for public in jeu.public.all %}
                                <p class="{{public.nomDuPublic}}">{{public.nomDuPublic}}</p>
                           {%endfor%}
                            <p class="joueurMin">{{jeu.nombreDeJoueurMin}} joueurs (min)</p>
                            <p class="joueurMax">{{jeu.nombreDeJoueurMax}} joueurs (max)</p>
                            <p class="ageMin">{{jeu.ageMin}} ans</p>
                            <p class="proprietaire">{{jeu.proprietaire}}</p>
                            <p class="date">{{jeu.dateDeCreation}}</p>
                           <hr>
                        </article>
                        {% endfor %}
                   </section>
						

						<!-- no results found --> 
						<div class="jplist-no-results">
							 <p>No results found</p>
						</div>

					</div>

				<!-- Sidebar -->
					<section id="sidebar">

						<!-- Intro -->
							<section id="intro">
								<!--<a href="#" class="logo"><img src="images/logo.jpg" alt="" /></a>-->
								<header>
									<h2>Ici vient le logo</h2>
								</header>
							</section>

						<!-- Posts List -->
							<section>

								<ul class="posts">
									{% for onglet in onglets %}
									<li>
										<article>
											<header>
												<h3>
													<a href="fermerOnglet/{{onglet.id}}">
                              <i class="fa fa-times-circle" aria-hidden="true"></i>
                          </a>
													<a href="fiche/{{onglet.jeu.id}}" role="tab">{{onglet.jeu.nomDuJeu}}</a>
												</h3>
											</header>
											<a href="#" class="image"><img src="images/pic08.jpg" alt="" /></a>
										</article>
									</li>
									{% endfor %}
								</ul>
							</section>

						<!-- Footer -->
							<section id="footer">
								<p class="copyright">&copy; Developped by <a href="https://github.com/Gatomlo/shareandplay">Gatomlo</a>.</p>
								<p class="copyright">&copy; Designed by <a href="http://html5up.net">HTML5 UP</a>.</p>
							</section>

					</section>

			</div>

		<!-- Scripts -->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
			<script src="{% static 'boostrap/js/bootstrap.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.core.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.pagination.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.sort.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.textbox-filter.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.filter-dropdown.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.history-bundle.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.toggle-filter-bundle.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.jquery-ui-bundle.min.js' %}"></script>
      <script src="{% static 'JPlist/jplist.pagination-bundle.min.js' %}"></script>
		  <script src="{% static 'html5up/js/skel.min.js' %}"></script>
		  <script src="{% static 'html5up/js/util.js' %}"></script>
		  <script src="{% static 'html5up/js/main.js' %}"></script>
		  <script type="text/javascript">
          $(document).ready(function(){
            $(".launch-modal").click(function(){
                var content = $(this).data('url');
              $("#myModal").modal({
                remote: content,
              });
            });
          });
          $('#myModal').on('hide.bs.modal', function(){
             $(this).removeData('bs.modal');
          });
      </script>
      <script>
            $('document').ready(function(){

               /**
               * user defined functions
               */
               jQuery.fn.jplist.settings = {

                  /**
                  * Duree: jquery ui range slider
                  */
                  dureeSlider: function ($slider, $prev, $next){
                     $slider.slider({
                        min: 0
                        ,max: 120
                        ,range: true
                        ,values: [0, 120]
                        ,slide: function (event, ui){
                           $prev.text(ui.values[0] + ' min');
                           $next.text(ui.values[1] + ' min');
                        }
                     });
                  }

                  /**
                  * Duree: jquery ui set values
                  */
                  ,dureeValues: function ($slider, $prev, $next){
                     $prev.text($slider.slider('values', 0) + ' min');
                     $next.text($slider.slider('values', 1) + ' min');
                  }

                  /**
                  * JoueurMin: jquery ui range slider
                  */
                  ,joueurMinSlider: function ($slider, $prev, $next){
                     $slider.slider({
                        min: 0
                        ,max: 30
                        ,range: true
                        ,values: [0, 30]
                        ,slide: function (event, ui){
                           $prev.text(ui.values[0] + ' ');
                           $next.text(ui.values[1] + ' +');
                        }
                     });
                  }

                  /**
                  * JoueurMin: jquery ui set values
                  */
                  ,joueurMinValues: function ($slider, $prev, $next){
                     $prev.text($slider.slider('values', 0) + ' ');
                     $next.text($slider.slider('values', 1) + ' +');
                  }

                  /**
                  * JoueurMax: jquery ui range slider
                  */
                  ,joueurMaxSlider: function ($slider, $prev, $next){
                     $slider.slider({
                        min: 0
                        ,max: 30
                        ,range: true
                        ,values: [0, 30]
                        ,slide: function (event, ui){
                           $prev.text(ui.values[0] + ' ');
                           $next.text(ui.values[1] + ' +');
                        }
                     });
                  }

                  /**
                  * JoueurMax: jquery ui set values
                  */
                  ,joueurMaxValues: function ($slider, $prev, $next){
                     $prev.text($slider.slider('values', 0) + ' ');
                     $next.text($slider.slider('values', 1) + ' +');
                  }
                  /**
                  * AgeMin: jquery ui range slider
                  */
                  ,ageMinSlider: function ($slider, $prev, $next){
                     $slider.slider({
                        min: 0
                        ,max: 99
                        ,range: true
                        ,values: [0, 99]
                        ,slide: function (event, ui){
                           $prev.text(ui.values[0] + ' ans');
                           $next.text(ui.values[1] + ' ans');
                        }
                     });
                  }

                  /**
                  * AgeMin: jquery ui set values
                  */
                  ,ageMinValues: function ($slider, $prev, $next){
                     $prev.text($slider.slider('values', 0) + ' ans');
                     $next.text($slider.slider('values', 1) + ' ans');
                  }
               };

               $('#catalogue').jplist({
                  itemsBox: '.list'
                  ,itemPath: '.list-item'
                  ,panelPath: '.jplist-panel'
               });

            });
      </script>
	</body>
</html>
